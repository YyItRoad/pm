!function(e){var t={};function r(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){r(1),r(2),r(3),r(4),r(5),r(6),r(7),r(8),r(9),r(10),e.exports=r(11)},function(e,t){!function(){var e=Q.use("fish").FishGroup={pattens:[]};e.setRandomPatten=function(e,t,r){var s=this.pattens,i=s.length;(0,s[Math.random()*i>>0])(e,t,r)};e.pattens.push(function(e,t,r){for(var s=e.length,i={x:t,y:r,width:0,height:0},o=t>0?1:-1,a=0;a<s;a++){var c=e[a],n=Math.random()*c.width+20>>0,u=Math.random()*c.height+20>>0;Math.random()>.5&&(u*=-1),c.x=i.x+n*o,c.y=i.y+u,i=c}})}()},function(e,t){var r,s,i;r=Q.use("fish"),s={en:"Loading resources, please wait...",zh:"正在加载资源中，请稍候..."},(i=r.game={container:null,width:480,height:320,fps:60,frames:0,params:null,events:Q.supportTouch?["touchstart","touchend"]:["mousedown","mouseup"],fireInterval:30,fireCount:0,lng:"en"}).load=function(e,t){var o=this.params=Q.getUrlParams();if(null==o.mode&&(o.mode=2),o.fps&&(this.fps=o.fps),this.fireInterval=.5*this.fps,t){this.params.coin=t.coin;let e=t.lng;"en"!=e&&"zh"!=e||(this.lng=e)}Q.isIpod||Q.isIphone?(this.width=980,this.height=545,Q.addMeta({name:"viewport",content:"user-scalable=no"})):(Q.addMeta({name:"viewport",content:"user-scalable=no, initial-scale=1.0, minimum-scale=1, maximum-scale=1"}),this.width=Math.min(1024,window.innerWidth),this.height=Math.min(768,window.innerHeight)),o.width&&(this.width=Number(o.width)||this.width),o.height&&(this.height=Number(o.height)||this.height),this.container=e||Q.getDOM("container"),this.container.style.overflow="hidden",this.container.style.width=this.width+"px",this.container.style.height=this.height+"px",this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight;var a=Q.createDOM("div",{innerHTML:s[this.lng]+"<br>",style:{id:"loader",position:"absolute",width:this.width+"px",left:"0px",top:(this.height>>1)+"px",textAlign:"center",color:"#fff",font:Q.isMobile?"bold 16px 黑体":"bold 16px 宋体",textShadow:"0 2px 2px #111"}});this.container.appendChild(a),this.loader=a,this.hideNavBar(),Q.supportOrientation&&(window.onorientationchange=function(e){i.hideNavBar(),i.stage&&i.stage.updatePosition()});var c=new Q.ImageLoader;c.addEventListener("loaded",Q.delegate(this.onLoadLoaded,this)),c.addEventListener("complete",Q.delegate(this.onLoadComplete,this)),c.load(r.R.sources)},i.onLoadLoaded=function(e){var t=s[this.lng]+"<br>("+Math.round(e.target.getLoadedSize()/e.target.getTotalSize()*100)+"%)";this.loader.innerHTML=t},i.onLoadComplete=function(e){e.target.removeAllEventListeners(),this.init(e.images),window.Inject.game("complete")},i.init=function(e){r.R.init(e),this.startup(),window.Inject.game("init")},i.startup=function(){if(this.container.removeChild(this.loader),this.loader=null,Q.isWebKit&&!Q.supportTouch&&(document.body.style.webkitTouchCallout="none",document.body.style.webkitUserSelect="none",document.body.style.webkitTextSizeAdjust="none",document.body.style.webkitTapHighlightColor="rgba(0,0,0,0)"),1==this.params.mode){var e=Q.createDOM("canvas",{id:"canvas",width:this.width,height:this.height,style:{position:"absolute"}});this.container.appendChild(e),this.context=new Q.CanvasContext({canvas:e})}else this.context=new Q.DOMContext({canvas:this.container});this.stage=new Q.Stage({width:this.width,height:this.height,context:this.context,update:Q.delegate(this.update,this)}),(this.evtManager=new Q.EventManager).registerStage(this.stage,this.events,!0,!0),this.initUI(),this.initPlayer(),this.fishManager=new r.FishManager(this.fishContainer),this.fishManager.makeFish();var t=this.timer=new Q.Timer(1e3/this.fps);t.addListener(this.stage),t.addListener(Q.Tween),t.start(),this.showFPS()},i.initUI=function(){this.bg=new Q.Bitmap({id:"bg",image:r.R.mainbg,transformEnabled:!1}),this.fishContainer=new Q.DisplayObjectContainer({id:"fishContainer",width:this.width,height:this.height,eventChildren:!1,transformEnabled:!1}),this.fishContainer.onEvent=function(e){e.type==i.events[0]&&i.fireCount>=i.fireInterval&&(i.fireCount=0,i.player.fire({x:e.eventX,y:e.eventY}))},this.bottom=new Q.Bitmap(r.R.bottombar),this.bottom.id="bottom",this.bottom.x=this.width-this.bottom.width>>1,this.bottom.y=this.height-this.bottom.height+2,this.bottom.transformEnabled=!1,this.stage.addChild(this.bg,this.fishContainer,this.bottom)},i.initPlayer=function(){var e=Number(this.params.coin)||0;this.player=new r.Player({id:"quark",coin:e})},i.update=function(e){this.frames++,this.fireCount++,this.fishManager.update()},i.showFPS=function(){var e=this,t=Quark.getDOM("fps");t&&setInterval(function(){t.innerHTML="FPS:"+e.frames,e.frames=0},1e3)},i.hideNavBar=function(){window.scrollTo(0,1)}},function(e,t){var r,s,i;r=Q.use("fish"),s=r.game,(i=r.FishManager=function(e){this.fishPool=[],this.poolSize=s.params.num||100,this.minNumFishScreen=this.poolSize>>1,this.maxNumFishScreen=this.poolSize,this.enabled=!0,this.container=e,this.fishes=[],this.makeCounter=2*s.fps,this.initPool()}).prototype.initPool=function(){for(var e=0;e<this.poolSize;e++){var t=new r.Fish(r.R.fishTypes[1]);t.getDrawable(s.stage.context),this.fishPool[e]=t}},i.prototype.update=function(){if(this.enabled){for(var e=0;e<this.fishes.length;e++){var t=this.fishes[e];t.captured?(this.fishes.splice(e,1),e--):t.isOutOfScreen()?(t.hasShown||t.changeDirCounter<10*-s.fps)&&(this.fishes.splice(e,1),this.fishPool.push(t),t.parent.removeChild(t),e--):t.hasShown||(t.hasShown=!0)}--this.makeCounter<=0&&(this.makeCounter=this.fishes.length<this.minNumFishScreen?2*s.fps:3*s.fps,this.makeFish())}},i.prototype.makeFish=function(){if(!(this.fishes.length>=this.poolSize)){var e=r.R.fishTypes.length,t=Math.random()*e>>0,i=Math.random()*t+1>>0,o=r.R.fishTypes[i],a=Math.random()*o.mixin.maxNumGroup+1>>0;if(a>this.fishPool.length&&(a=this.fishPool.length),!(a<=0)){var c=this.fishPool.splice(0,a),n=(s.height,o.frames[0].rect[2]),u=(o.frames[0].rect[3],Math.random()>.5?-n:s.width+n),f=200*Math.random()+(s.height>>1)-100>>0,h=Math.random()*(o.mixin.maxSpeed-o.mixin.minSpeed)+o.mixin.minSpeed,m=20*Math.random()-10>>0;u>0&&(m+=180);for(var d=0;d<a;d++){var g=c[d];g.setType(o),g.moving=!0,g.canTurning=!1,g.hasShown=!1,g.captured=!1,g.speed=h,g.changeDirection(m),this.fishes.push(g),this.container.addChild(g)}r.FishGroup.setRandomPatten(c,u,f)}}}},function(e,t){!function(){var e=Q.use("fish").game;window.addEventListener("flutterInAppBrowserPlatformReady",function(t){window.flutter_inappbrowser.callHandler("game","ready").then(t=>{e.load(void 0,JSON.parse(t))})});var t,r=window.Inject={};r.flutter=function(){if(!t){if(!window.flutter_inappbrowser||"function"!=typeof window.flutter_inappbrowser.callHandler)return!1;t=!0}return t},r.game=function(e){this.flutter()&&window.flutter_inappbrowser.callHandler("game",e)},r.coin=function(e,t){this.flutter()&&window.flutter_inappbrowser.callHandler("coin",e,t)},r.captureFish=function(e){this.flutter()&&window.flutter_inappbrowser.callHandler("fish",e)},r.addCoin=function(t){e&&e.player.updateCoin(t,!0)}}()},function(e,t){var r;(r=Q.use("fish").R={}).sources=[{id:"mainbg",size:456,src:"images/game_bg_2_hd.jpg?"+Math.random()},{id:"bottom",size:50,src:"images/bottom.png?"+Math.random()},{id:"fish1",size:6,src:"images/fish1.png?"+Math.random()},{id:"fish2",size:16,src:"images/fish2.png?"+Math.random()},{id:"fish3",size:11,src:"images/fish3.png?"+Math.random()},{id:"fish4",size:15,src:"images/fish4.png?"+Math.random()},{id:"fish5",size:43,src:"images/fish5.png?"+Math.random()},{id:"fish6",size:45,src:"images/fish6.png?"+Math.random()},{id:"fish7",size:80,src:"images/fish7.png?"+Math.random()},{id:"fish8",size:100,src:"images/fish8.png?"+Math.random()},{id:"fish9",size:104,src:"images/fish9.png?"+Math.random()},{id:"fish10",size:121,src:"images/fish10.png?"+Math.random()},{id:"shark1",size:287,src:"images/shark1.png?"+Math.random()},{id:"shark2",size:382,src:"images/shark2.png?"+Math.random()},{id:"cannon1",size:11,src:"images/cannon1.png?"+Math.random()},{id:"cannon2",size:11,src:"images/cannon2.png?"+Math.random()},{id:"cannon3",size:11,src:"images/cannon3.png?"+Math.random()},{id:"cannon4",size:13,src:"images/cannon4.png?"+Math.random()},{id:"cannon5",size:13,src:"images/cannon5.png?"+Math.random()},{id:"cannon6",size:15,src:"images/cannon6.png?"+Math.random()},{id:"cannon7",size:17,src:"images/cannon7.png?"+Math.random()},{id:"bullet",size:8,src:"images/bullet.png?"+Math.random()},{id:"web",size:93,src:"images/web.png?"+Math.random()},{id:"numBlack",size:1,src:"images/number_black.png?"+Math.random()},{id:"coinAni1",size:19,src:"images/coinAni1.png?"+Math.random()},{id:"coinAni2",size:22,src:"images/coinAni2.png?"+Math.random()},{id:"coinText",size:16,src:"images/coinText.png?"+Math.random()}],r.init=function(e){this.images=e,this.initResources()},r.initResources=function(){this.mainbg=this.getImage("mainbg"),this.bottom=this.getImage("bottom"),this.bottombar={image:this.bottom,rect:[0,0,765,72]},this.cannonMinus={image:this.bottom,up:{rect:[132,72,44,31]},down:{rect:[88,72,44,31]},width:44,height:31},this.cannonPlus={image:this.bottom,up:{rect:[44,72,44,31]},down:{rect:[0,72,44,31]},width:44,height:31},this.numBlack={image:this.getImage("numBlack"),9:[0,0,20,24],8:[0,24,20,24],7:[0,48,20,24],6:[0,72,20,24],5:[0,96,20,24],4:[0,120,20,24],3:[0,144,20,24],2:[0,168,20,24],1:[0,192,20,24],0:[0,216,20,24]},this.coinText={image:this.getImage("coinText"),0:[0,0,36,49],1:[36,0,36,49],2:[72,0,36,49],3:[108,0,36,49],4:[144,0,36,49],5:[180,0,36,49],6:[216,0,36,49],7:[252,0,36,49],8:[288,0,36,49],9:[324,0,36,49],"+":[360,0,36,49]},this.coinAni1={image:this.getImage("coinAni1"),frames:[{rect:[0,0,60,60]},{rect:[0,60,60,60]},{rect:[0,120,60,60]},{rect:[0,180,60,60]},{rect:[0,240,60,60]},{rect:[0,300,60,60]},{rect:[0,360,60,60]},{rect:[0,420,60,60]},{rect:[0,480,60,60]},{rect:[0,540,60,60]}],regX:30,regY:30,scaleX:.8,scaleY:.8,useFrames:!0,interval:2},this.coinAni2={image:this.getImage("coinAni2"),frames:[{rect:[0,0,60,60]},{rect:[0,60,60,60]},{rect:[0,120,60,60]},{rect:[0,180,60,60]},{rect:[0,240,60,60]},{rect:[0,300,60,60]},{rect:[0,360,60,60]},{rect:[0,420,60,60]},{rect:[0,480,60,60]},{rect:[0,540,60,60]}],regX:30,regY:30,scaleX:.8,scaleY:.8,useFrames:!0,interval:2};var e={image:this.getImage("fish1"),frames:[{rect:[0,0,55,37],label:"swim"},{rect:[0,37,55,37]},{rect:[0,74,55,37]},{rect:[0,111,55,37],jump:"swim"},{rect:[0,148,55,37],label:"capture"},{rect:[0,185,55,37]},{rect:[0,222,55,37]},{rect:[0,259,55,37],jump:"capture"}],polyArea:[{x:10,y:5},{x:55,y:5},{x:55,y:22},{x:10,y:22}],mixin:{coin:1,captureRate:.55,maxNumGroup:8,minSpeed:.5,maxSpeed:1.2,regX:35,regY:12,useFrames:!0,interval:10}},t={image:this.getImage("fish2"),frames:[{rect:[0,0,78,64],label:"swim"},{rect:[0,64,78,64]},{rect:[0,128,78,64]},{rect:[0,192,78,64],jump:"swim"},{rect:[0,256,78,64],label:"capture"},{rect:[0,320,78,64]},{rect:[0,384,78,64]},{rect:[0,448,78,64],jump:"capture"}],polyArea:[{x:15,y:10},{x:78,y:10},{x:78,y:32},{x:15,y:32}],mixin:{coin:3,captureRate:.5,maxNumGroup:6,minSpeed:.5,maxSpeed:1.2,regX:58,regY:20,useFrames:!0,interval:10}},r={image:this.getImage("fish3"),frames:[{rect:[0,0,72,56],label:"swim"},{rect:[0,56,72,56]},{rect:[0,112,72,56]},{rect:[0,168,72,56],jump:"swim"},{rect:[0,224,72,56],label:"capture"},{rect:[0,280,72,56]},{rect:[0,336,72,56]},{rect:[0,392,72,56],jump:"capture"}],polyArea:[{x:5,y:5},{x:72,y:5},{x:72,y:28},{x:5,y:28}],mixin:{coin:5,captureRate:.45,maxNumGroup:6,minSpeed:.5,maxSpeed:1.2,regX:52,regY:18,useFrames:!0,interval:10}},s={image:this.getImage("fish4"),frames:[{rect:[0,0,77,59],label:"swim"},{rect:[0,59,77,59]},{rect:[0,118,77,59]},{rect:[0,177,77,59],jump:"swim"},{rect:[0,236,77,59],label:"capture"},{rect:[0,295,77,59]},{rect:[0,354,77,59]},{rect:[0,413,77,59],jump:"capture"}],polyArea:[{x:10,y:5},{x:77,y:5},{x:77,y:28},{x:10,y:28}],mixin:{coin:8,captureRate:.4,maxNumGroup:6,minSpeed:.5,maxSpeed:1.2,regX:57,regY:18,useFrames:!0,interval:10}},i={image:this.getImage("fish5"),frames:[{rect:[0,0,107,122],label:"swim"},{rect:[0,122,107,122]},{rect:[0,244,107,122]},{rect:[0,366,107,122],jump:"swim"},{rect:[0,488,107,122],label:"capture"},{rect:[0,610,107,122]},{rect:[0,732,107,122]},{rect:[0,854,107,122],jump:"capture"}],polyArea:[{x:20,y:30},{x:100,y:30},{x:100,y:70},{x:20,y:70}],mixin:{coin:10,captureRate:.35,maxNumGroup:5,minSpeed:.5,maxSpeed:1.2,regX:67,regY:50,useFrames:!0,interval:10}},o={image:this.getImage("fish6"),frames:[{rect:[0,0,105,79],label:"swim"},{rect:[0,79,105,79]},{rect:[0,158,105,79]},{rect:[0,237,105,79]},{rect:[0,316,105,79]},{rect:[0,395,105,79]},{rect:[0,474,105,79]},{rect:[0,553,105,79],jump:"swim"},{rect:[0,632,105,79],label:"capture"},{rect:[0,711,105,79]},{rect:[0,790,105,79]},{rect:[0,869,105,79],jump:"capture"}],polyArea:[{x:45,y:0},{x:105,y:0},{x:105,y:55},{x:45,y:55}],mixin:{coin:20,captureRate:.3,maxNumGroup:3,minSpeed:.5,maxSpeed:1.2,regX:65,regY:25,useFrames:!0,interval:10}},a={image:this.getImage("fish7"),frames:[{rect:[0,0,92,151],label:"swim"},{rect:[0,151,92,151]},{rect:[0,302,92,151]},{rect:[0,453,92,151]},{rect:[0,604,92,151]},{rect:[0,755,92,151],jump:"swim"},{rect:[0,906,92,151],label:"capture"},{rect:[0,1057,92,151]},{rect:[0,1208,92,151]},{rect:[0,1359,92,151],jump:"capture"}],polyArea:[{x:15,y:5},{x:85,y:5},{x:85,y:80},{x:15,y:80}],mixin:{coin:30,captureRate:.25,maxNumGroup:5,minSpeed:.5,maxSpeed:.8,regX:40,regY:50,useFrames:!0,interval:10}},c={image:this.getImage("fish8"),frames:[{rect:[0,0,174,126],label:"swim"},{rect:[0,126,174,126]},{rect:[0,252,174,126]},{rect:[0,378,174,126]},{rect:[0,504,174,126]},{rect:[0,630,174,126]},{rect:[0,756,174,126]},{rect:[0,882,174,126],jump:"swim"},{rect:[0,1008,174,126],label:"capture"},{rect:[0,1134,174,126]},{rect:[0,1260,174,126]},{rect:[0,1386,174,126],jump:"capture"}],polyArea:[{x:20,y:20},{x:120,y:20},{x:120,y:75},{x:20,y:75}],mixin:{coin:40,captureRate:.2,maxNumGroup:3,minSpeed:.5,maxSpeed:.8,regX:90,regY:50,useFrames:!0,interval:10}},n={image:this.getImage("fish9"),frames:[{rect:[0,0,166,183],label:"swim"},{rect:[0,183,166,183]},{rect:[0,366,166,183]},{rect:[0,549,166,183]},{rect:[0,732,166,183]},{rect:[0,915,166,183]},{rect:[0,1098,166,183]},{rect:[0,1281,166,183],jump:"swim"},{rect:[0,1464,166,183],label:"capture"},{rect:[0,1647,166,183]},{rect:[0,1830,166,183]},{rect:[0,2013,166,183],jump:"capture"}],polyArea:[{x:60,y:10},{x:160,y:10},{x:160,y:140},{x:60,y:140}],mixin:{coin:50,captureRate:.15,maxNumGroup:2,minSpeed:.5,maxSpeed:.8,regX:120,regY:70,useFrames:!0,interval:10}},u={image:this.getImage("fish10"),frames:[{rect:[0,0,178,187],label:"swim"},{rect:[0,187,178,187]},{rect:[0,374,178,187]},{rect:[0,561,178,187]},{rect:[0,748,178,187]},{rect:[0,935,178,187],jump:"swim"},{rect:[0,1122,178,187],label:"capture"},{rect:[0,1309,178,187]},{rect:[0,1496,178,187]},{rect:[0,1683,178,187],jump:"capture"}],polyArea:[{x:20,y:30},{x:170,y:30},{x:170,y:120},{x:20,y:120}],mixin:{coin:60,captureRate:.1,maxNumGroup:2,minSpeed:.5,maxSpeed:.8,regX:100,regY:80,useFrames:!0,interval:10}},f={image:this.getImage("shark1"),frames:[{rect:[0,0,509,270],label:"swim"},{rect:[0,270,509,270]},{rect:[0,540,509,270]},{rect:[0,810,509,270]},{rect:[0,1080,509,270]},{rect:[0,1350,509,270]},{rect:[0,1620,509,270]},{rect:[0,1890,509,270],jump:"swim"},{rect:[0,2160,509,270],label:"capture"},{rect:[0,2430,509,270]},{rect:[0,2700,509,270]},{rect:[0,2970,509,270],jump:"capture"}],polyArea:[{x:20,y:50},{x:500,y:50},{x:500,y:220},{x:20,y:210}],mixin:{coin:100,captureRate:.05,maxNumGroup:1,minSpeed:.5,maxSpeed:.6,regX:350,regY:130,useFrames:!0,interval:10}},h={image:this.getImage("shark2"),frames:[{rect:[0,0,516,273],label:"swim"},{rect:[0,273,516,273]},{rect:[0,546,516,273]},{rect:[0,819,516,273]},{rect:[0,1092,516,273]},{rect:[0,1365,516,273]},{rect:[0,1638,516,273]},{rect:[0,1911,516,273],jump:"swim"},{rect:[0,2184,516,273],label:"capture"},{rect:[0,2457,516,273]},{rect:[0,2730,516,273]},{rect:[0,3003,516,273],jump:"capture"}],polyArea:[{x:20,y:50},{x:500,y:50},{x:500,y:220},{x:20,y:210}],mixin:{coin:200,captureRate:.02,maxNumGroup:1,minSpeed:.5,maxSpeed:.6,regX:350,regY:130,useFrames:!0,interval:10}},m={image:this.getImage("cannon1"),frames:[{rect:[0,0,74,74]},{rect:[0,74,74,74]},{rect:[0,148,74,74]},{rect:[0,222,74,74]},{rect:[0,296,74,74],stop:1}],mixin:{regX:37,regY:45,useFrames:!0,interval:3,power:1}},d={image:this.getImage("cannon2"),frames:[{rect:[0,0,74,76]},{rect:[0,76,74,76]},{rect:[0,152,74,76]},{rect:[0,228,74,76]},{rect:[0,304,74,76],stop:1}],mixin:{regX:37,regY:46,useFrames:!0,interval:3,power:2}},g={image:this.getImage("cannon3"),frames:[{rect:[0,0,74,76]},{rect:[0,76,74,76]},{rect:[0,152,74,76]},{rect:[0,228,74,76]},{rect:[0,304,74,76],stop:1}],mixin:{regX:37,regY:46,useFrames:!0,interval:3,power:3}},p={image:this.getImage("cannon4"),frames:[{rect:[0,0,74,83]},{rect:[0,83,74,83]},{rect:[0,166,74,83]},{rect:[0,249,74,83]},{rect:[0,332,74,83],stop:1}],mixin:{regX:37,regY:52,useFrames:!0,interval:3,power:4}},l={image:this.getImage("cannon5"),frames:[{rect:[0,0,74,85]},{rect:[0,85,74,85]},{rect:[0,170,74,85]},{rect:[0,255,74,85]},{rect:[0,340,74,85],stop:1}],mixin:{regX:37,regY:55,useFrames:!0,interval:3,power:5}},S={image:this.getImage("cannon6"),frames:[{rect:[0,0,74,90]},{rect:[0,90,74,90]},{rect:[0,180,74,90]},{rect:[0,270,74,90]},{rect:[0,360,74,90],stop:1}],mixin:{regX:37,regY:58,useFrames:!0,interval:3,power:6}},z={image:this.getImage("cannon7"),frames:[{rect:[0,0,74,94]},{rect:[0,94,74,94]},{rect:[0,188,74,94]},{rect:[0,282,74,94]},{rect:[0,376,74,94],stop:1}],mixin:{regX:37,regY:60,useFrames:!0,interval:3,power:7}};this.fishTypes=[null,e,t,r,s,i,o,c,n,u,a,f,h],this.cannonTypes=[null,m,d,g,p,l,S,z];var R=this.getImage("bullet");this.bullets=[{image:R,rect:[86,0,24,26],regX:12,regY:13},{image:R,rect:[61,0,25,29],regX:12,regY:14},{image:R,rect:[32,35,27,31],regX:13,regY:15},{image:R,rect:[30,82,29,33],regX:14,regY:16},{image:R,rect:[0,82,30,34],regX:15,regY:17},{image:R,rect:[30,0,31,35],regX:15,regY:17},{image:R,rect:[0,44,32,38],regX:16,regY:19}];var x=this.getImage("web");this.webs=[{image:x,rect:[319,355,116,118],regX:58,regY:59,polyArea:[{x:20,y:20},{x:100,y:20},{x:100,y:100},{x:20,y:100}]},{image:x,rect:[0,399,137,142],regX:68,regY:71,polyArea:[{x:20,y:20},{x:120,y:20},{x:120,y:120},{x:20,y:120}]},{image:x,rect:[163,355,156,162],regX:78,regY:81,polyArea:[{x:20,y:20},{x:140,y:20},{x:140,y:140},{x:20,y:140}]},{image:x,rect:[242,181,180,174],regX:90,regY:87,polyArea:[{x:20,y:20},{x:160,y:20},{x:160,y:160},{x:20,y:160}]},{image:x,rect:[0,244,163,155],regX:81,regY:77,polyArea:[{x:10,y:10},{x:150,y:10},{x:150,y:150},{x:10,y:150}]},{image:x,rect:[242,0,191,181],regX:95,regY:90,polyArea:[{x:10,y:10},{x:180,y:10},{x:180,y:180},{x:10,y:180}]},{image:x,rect:[0,0,242,244],regX:121,regY:122,polyArea:[{x:30,y:30},{x:210,y:30},{x:210,y:210},{x:30,y:210}]}]},r.convertPlistImage=function(){this.fish=this.getImage("fish"),this.shark=this.getImage("shark"),this.cannon=this.getImage("cannon");for(var e=[{frame:[1438,419,60,60],offset:[0,0],rotated:!1,sourceRect:[0,0,60,60],sourceSize:[60,60]},{frame:[1396,507,60,60],offset:[0,0],rotated:!1,sourceRect:[0,0,60,60],sourceSize:[60,60]},{frame:[1377,419,60,60],offset:[0,0],rotated:!1,sourceRect:[0,0,60,60],sourceSize:[60,60]},{frame:[1051,1295,54,60],offset:[0,0],rotated:!1,sourceRect:[3,0,54,60],sourceSize:[60,60]},{frame:[644,1254,42,60],offset:[0,0],rotated:!0,sourceRect:[9,0,42,60],sourceSize:[60,60]},{frame:[133,2018,28,60],offset:[-1,0],rotated:!0,sourceRect:[15,0,28,60],sourceSize:[60,60]},{frame:[0,2025,14,60],offset:[0,0],rotated:!0,sourceRect:[23,0,14,60],sourceSize:[60,60]},{frame:[934,685,26,60],offset:[0,0],rotated:!0,sourceRect:[17,0,26,60],sourceSize:[60,60]},{frame:[583,1254,42,60],offset:[0,0],rotated:!0,sourceRect:[9,0,42,60],sourceSize:[60,60]},{frame:[1034,1372,54,60],offset:[-1,0],rotated:!1,sourceRect:[2,0,54,60],sourceSize:[60,60]}],t={maxNumGroup:8,minSpeed:.5,maxSpeed:1.2,regX:35,regY:12,useFrames:!0,interval:10},r=(this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[1522,78,60,60],offset:[0,0],rotated:!1,sourceRect:[0,0,60,60],sourceSize:[60,60]},{frame:[1470,248,60,60],offset:[0,0],rotated:!1,sourceRect:[0,0,60,60],sourceSize:[60,60]},{frame:[1439,329,60,60],offset:[0,0],rotated:!1,sourceRect:[0,0,60,60],sourceSize:[60,60]},{frame:[1134,1163,54,60],offset:[0,0],rotated:!1,sourceRect:[3,0,54,60],sourceSize:[60,60]},{frame:[1337,670,42,60],offset:[0,0],rotated:!0,sourceRect:[9,0,42,60],sourceSize:[60,60]},{frame:[194,2018,28,60],offset:[-1,0],rotated:!0,sourceRect:[15,0,28,60],sourceSize:[60,60]},{frame:[61,2025,14,60],offset:[0,0],rotated:!0,sourceRect:[23,0,14,60],sourceSize:[60,60]},{frame:[1356,570,26,60],offset:[0,0],rotated:!0,sourceRect:[17,0,26,60],sourceSize:[60,60]},{frame:[705,1254,42,60],offset:[0,0],rotated:!0,sourceRect:[9,0,42,60],sourceSize:[60,60]},{frame:[1105,1233,54,60],offset:[-1,0],rotated:!1,sourceRect:[2,0,54,60],sourceSize:[60,60]}],t={maxNumGroup:8,minSpeed:.5,maxSpeed:1.2,regX:35,regY:12,useFrames:!0,interval:10},this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[572,1062,55,35],offset:[0,0],rotated:!1,sourceRect:[0,1,55,35],sourceSize:[55,37]},{frame:[628,1062,55,33],offset:[0,0],rotated:!1,sourceRect:[0,2,55,33],sourceSize:[55,37]},{frame:[684,1062,55,31],offset:[0,1],rotated:!1,sourceRect:[0,2,55,31],sourceSize:[55,37]},{frame:[828,685,55,33],offset:[0,1],rotated:!1,sourceRect:[0,1,55,33],sourceSize:[55,37]},{frame:[934,985,51,25],offset:[0,-4],rotated:!1,sourceRect:[2,10,51,25],sourceSize:[55,37]},{frame:[884,685,49,27],offset:[1,-4],rotated:!1,sourceRect:[4,9,49,27],sourceSize:[55,37]},{frame:[846,1042,51,27],offset:[0,-3],rotated:!0,sourceRect:[2,8,51,27],sourceSize:[55,37]},{frame:[818,1042,51,27],offset:[1,-4],rotated:!0,sourceRect:[3,9,51,27],sourceSize:[55,37]}],t={maxNumGroup:8,minSpeed:.5,maxSpeed:1.2,regX:35,regY:12,useFrames:!0,interval:10},this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[1194,450,74,58],offset:[1,-1],rotated:!1,sourceRect:[3,4,74,58],sourceSize:[78,64]},{frame:[1234,832,70,54],offset:[3,1],rotated:!0,sourceRect:[7,4,70,54],sourceSize:[78,64]},{frame:[1078,1092,74,44],offset:[1,2],rotated:!0,sourceRect:[3,8,74,44],sourceSize:[78,64]},{frame:[314,1998,74,50],offset:[2,0],rotated:!1,sourceRect:[4,7,74,50],sourceSize:[78,64]},{frame:[1080,965,72,58],offset:[0,3],rotated:!0,sourceRect:[3,0,72,58],sourceSize:[78,64]},{frame:[995,646,66,58],offset:[4,3],rotated:!0,sourceRect:[10,0,66,58],sourceSize:[78,64]},{frame:[992,1297,74,58],offset:[1,3],rotated:!0,sourceRect:[3,0,74,58],sourceSize:[78,64]},{frame:[1054,646,66,56],offset:[4,4],rotated:!0,sourceRect:[10,0,66,56],sourceSize:[78,64]}],t={maxNumGroup:6,minSpeed:.5,maxSpeed:1.2,regX:58,regY:20,useFrames:!0,interval:10},this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[1358,258,70,56],offset:[0,0],rotated:!0,sourceRect:[1,0,70,56],sourceSize:[72,56]},{frame:[1415,258,70,54],offset:[0,1],rotated:!0,sourceRect:[1,0,70,54],sourceSize:[72,56]},{frame:[389,1998,70,50],offset:[0,2],rotated:!1,sourceRect:[1,1,70,50],sourceSize:[72,56]},{frame:[894,1244,70,52],offset:[0,2],rotated:!1,sourceRect:[1,0,70,52],sourceSize:[72,56]},{frame:[1125,460,68,48],offset:[1,3],rotated:!1,sourceRect:[3,1,68,48],sourceSize:[72,56]},{frame:[1157,284,66,48],offset:[2,3],rotated:!1,sourceRect:[5,1,66,48],sourceSize:[72,56]},{frame:[1090,284,66,48],offset:[2,3],rotated:!1,sourceRect:[5,1,66,48],sourceSize:[72,56]},{frame:[1056,460,68,48],offset:[2,3],rotated:!1,sourceRect:[4,1,68,48],sourceSize:[72,56]}],t={maxNumGroup:6,minSpeed:.5,maxSpeed:1.2,regX:52,regY:18,useFrames:!0,interval:10},this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[911,1519,77,53],offset:[0,3],rotated:!0,sourceRect:[0,0,77,53],sourceSize:[77,59]},{frame:[740,1042,77,51],offset:[0,4],rotated:!1,sourceRect:[0,0,77,51],sourceSize:[77,59]},{frame:[1224,283,77,45],offset:[0,5],rotated:!1,sourceRect:[0,2,77,45],sourceSize:[77,59]},{frame:[460,1998,77,49],offset:[0,4],rotated:!1,sourceRect:[0,1,77,49],sourceSize:[77,59]},{frame:[1123,1091,71,57],offset:[-1,0],rotated:!0,sourceRect:[2,1,71,57],sourceSize:[77,59]},{frame:[918,1373,67,57],offset:[1,1],rotated:!0,sourceRect:[6,0,67,57],sourceSize:[77,59]},{frame:[1178,832,71,55],offset:[0,1],rotated:!0,sourceRect:[3,1,71,55],sourceSize:[77,59]},{frame:[1139,965,71,57],offset:[0,0],rotated:!0,sourceRect:[3,1,71,57],sourceSize:[77,59]}],t={maxNumGroup:6,minSpeed:.5,maxSpeed:1.2,regX:57,regY:18,useFrames:!0,interval:10},this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[1353,166,91,90],offset:[3,-1],rotated:!0,sourceRect:[11,17,91,90],sourceSize:[107,122]},{frame:[782,1960,87,88],offset:[5,-1],rotated:!1,sourceRect:[15,18,87,88],sourceSize:[107,122]},{frame:[1430,0,89,86],offset:[4,-1],rotated:!0,sourceRect:[13,19,89,86],sourceSize:[107,122]},{frame:[688,1960,93,88],offset:[2,-1],rotated:!1,sourceRect:[9,18,93,88],sourceSize:[107,122]},{frame:[1169,333,91,116],offset:[2,0],rotated:!1,sourceRect:[10,3,91,116],sourceSize:[107,122]},{frame:[1178,509,97,118],offset:[-1,1],rotated:!1,sourceRect:[4,1,97,118],sourceSize:[107,122]},{frame:[1176,713,89,118],offset:[4,-1],rotated:!1,sourceRect:[13,3,89,118],sourceSize:[107,122]},{frame:[1078,509,99,118],offset:[-2,0],rotated:!1,sourceRect:[2,2,99,118],sourceSize:[107,122]}],t={maxNumGroup:5,minSpeed:.5,maxSpeed:1.2,regX:67,regY:50,useFrames:!0,interval:10},this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[1352,0,91,77],offset:[4,0],rotated:!0,sourceRect:[11,1,91,77],sourceSize:[105,79]},{frame:[1444,166,81,77],offset:[2,0],rotated:!0,sourceRect:[14,1,81,77],sourceSize:[105,79]},{frame:[1370,92,73,77],offset:[1,0],rotated:!0,sourceRect:[17,1,73,77],sourceSize:[105,79]},{frame:[1361,329,89,77],offset:[-4,0],rotated:!0,sourceRect:[4,1,89,77],sourceSize:[105,79]},{frame:[1273,166,99,79],offset:[2,0],rotated:!0,sourceRect:[5,0,99,79],sourceSize:[105,79]},{frame:[1272,0,99,79],offset:[3,0],rotated:!0,sourceRect:[6,0,99,79],sourceSize:[105,79]},{frame:[1192,0,99,79],offset:[2,0],rotated:!0,sourceRect:[5,0,99,79],sourceSize:[105,79]},{frame:[1276,508,99,79],offset:[1,0],rotated:!0,sourceRect:[4,0,99,79],sourceSize:[105,79]},{frame:[918,1297,73,75],offset:[2,2],rotated:!1,sourceRect:[18,0,73,75],sourceSize:[105,79]},{frame:[911,1441,71,77],offset:[3,0],rotated:!1,sourceRect:[20,1,71,77],sourceSize:[105,79]},{frame:[1448,90,73,75],offset:[2,2],rotated:!1,sourceRect:[18,0,73,75],sourceSize:[105,79]},{frame:[1517,0,71,77],offset:[3,0],rotated:!1,sourceRect:[20,1,71,77],sourceSize:[105,79]}],t={maxNumGroup:3,minSpeed:.5,maxSpeed:1.2,regX:65,regY:25,useFrames:!0,interval:10},this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[833,1297,84,143],offset:[-1,1],rotated:!1,sourceRect:[3,3,84,143],sourceSize:[92,151]},{frame:[853,867,80,143],offset:[0,-1],rotated:!1,sourceRect:[6,5,80,143],sourceSize:[92,151]},{frame:[832,1450,78,147],offset:[2,-1],rotated:!1,sourceRect:[9,3,78,147],sourceSize:[92,151]},{frame:[538,1963,84,149],offset:[3,0],rotated:!0,sourceRect:[7,1,84,149],sourceSize:[92,151]},{frame:[867,1094,86,149],offset:[3,1],rotated:!1,sourceRect:[6,0,86,149],sourceSize:[92,151]},{frame:[829,719,86,147],offset:[1,2],rotated:!1,sourceRect:[4,0,86,147],sourceSize:[92,151]},{frame:[1090,166,86,117],offset:[-2,16],rotated:!1,sourceRect:[1,1,86,117],sourceSize:[92,151]},{frame:[874,1011,82,113],offset:[-1,17],rotated:!0,sourceRect:[4,2,82,113],sourceSize:[92,151]},{frame:[1111,628,84,113],offset:[-2,16],rotated:!0,sourceRect:[2,3,84,113],sourceSize:[92,151]},{frame:[1225,628,84,111],offset:[-2,17],rotated:!0,sourceRect:[2,3,84,111],sourceSize:[92,151]}],t={maxNumGroup:5,minSpeed:.5,maxSpeed:.8,regX:40,regY:50,useFrames:!0,interval:10},this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[284,1825,172,124],offset:[1,1],rotated:!0,sourceRect:[2,0,172,124],sourceSize:[174,126]},{frame:[264,1652,172,124],offset:[1,1],rotated:!0,sourceRect:[2,0,172,124],sourceSize:[174,126]},{frame:[409,1825,172,122],offset:[1,0],rotated:!0,sourceRect:[2,2,172,122],sourceSize:[174,126]},{frame:[415,1297,172,120],offset:[1,-1],rotated:!0,sourceRect:[2,4,172,120],sourceSize:[174,126]},{frame:[389,1652,172,122],offset:[1,-1],rotated:!0,sourceRect:[2,3,172,122],sourceSize:[174,126]},{frame:[264,1479,172,124],offset:[1,0],rotated:!0,sourceRect:[2,1,172,124],sourceSize:[174,126]},{frame:[789,0,172,124],offset:[1,0],rotated:!0,sourceRect:[2,1,172,124],sourceSize:[174,126]},{frame:[389,1479,172,122],offset:[1,1],rotated:!0,sourceRect:[2,1,172,122],sourceSize:[174,126]},{frame:[449,915,170,122],offset:[2,0],rotated:!0,sourceRect:[4,2,170,122],sourceSize:[174,126]},{frame:[933,342,168,122],offset:[3,2],rotated:!0,sourceRect:[6,0,168,122],sourceSize:[174,126]},{frame:[828,516,168,122],offset:[3,1],rotated:!0,sourceRect:[6,1,168,122],sourceSize:[174,126]},{frame:[914,0,168,122],offset:[3,2],rotated:!0,sourceRect:[6,0,168,122],sourceSize:[174,126]}],t={maxNumGroup:3,minSpeed:.5,maxSpeed:.8,regX:90,regY:50,useFrames:!0,interval:10},this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[640,0,148,173],offset:[6,1],rotated:!1,sourceRect:[15,4,148,173],sourceSize:[166,183]},{frame:[572,892,146,169],offset:[6,-1],rotated:!1,sourceRect:[16,8,146,169],sourceSize:[166,183]},{frame:[583,1098,148,155],offset:[4,0],rotated:!1,sourceRect:[13,14,148,155],sourceSize:[166,183]},{frame:[719,891,150,133],offset:[2,0],rotated:!0,sourceRect:[10,25,150,133],sourceSize:[166,183]},{frame:[697,1297,152,135],offset:[2,0],rotated:!0,sourceRect:[9,24,152,135],sourceSize:[166,183]},{frame:[841,1784,158,155],offset:[0,0],rotated:!0,sourceRect:[4,14,158,155],sourceSize:[166,183]},{frame:[505,722,156,169],offset:[2,1],rotated:!1,sourceRect:[7,6,156,169],sourceSize:[166,183]},{frame:[133,1840,150,177],offset:[6,0],rotated:!1,sourceRect:[14,3,150,177],sourceSize:[166,183]},{frame:[290,925,158,175],offset:[2,2],rotated:!1,sourceRect:[6,2,158,175],sourceSize:[166,183]},{frame:[686,1798,154,161],offset:[5,-4],rotated:!1,sourceRect:[11,15,154,161],sourceSize:[166,183]},{frame:[264,1301,150,177],offset:[8,3],rotated:!1,sourceRect:[16,0,150,177],sourceSize:[166,183]},{frame:[1037,0,154,165],offset:[5,-6],rotated:!1,sourceRect:[11,15,154,165],sourceSize:[166,183]}],t={maxNumGroup:2,minSpeed:.5,maxSpeed:.8,regX:120,regY:70,useFrames:!0,interval:10},this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[668,533,168,159],offset:[3,3],rotated:!0,sourceRect:[8,11,168,159],sourceSize:[178,187]},{frame:[0,380,166,187],offset:[2,0],rotated:!1,sourceRect:[8,0,166,187],sourceSize:[178,187]},{frame:[512,1470,164,163],offset:[1,7],rotated:!0,sourceRect:[8,5,164,163],sourceSize:[178,187]},{frame:[0,568,166,185],offset:[2,1],rotated:!1,sourceRect:[8,0,166,185],sourceSize:[178,187]},{frame:[807,173,168,135],offset:[4,5],rotated:!0,sourceRect:[9,21,168,135],sourceSize:[178,187]},{frame:[441,1101,170,141],offset:[4,5],rotated:!0,sourceRect:[8,18,170,141],sourceSize:[178,187]},{frame:[512,1635,164,153],offset:[-1,-4],rotated:!0,sourceRect:[6,21,164,153],sourceSize:[178,187]},{frame:[809,1623,160,149],offset:[-4,-1],rotated:!0,sourceRect:[5,20,160,149],sourceSize:[178,187]},{frame:[532,1800,162,153],offset:[-4,0],rotated:!0,sourceRect:[4,17,162,153],sourceSize:[178,187]},{frame:[676,1462,160,155],offset:[-1,7],rotated:!0,sourceRect:[8,9,160,155],sourceSize:[178,187]}],t={maxNumGroup:2,minSpeed:.5,maxSpeed:.8,regX:100,regY:80,useFrames:!0,interval:10},this.translateImage(this.fish,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[504,648,501,206],offset:[2,-3],rotated:!1,sourceRect:[6,35,501,206],sourceSize:[509,270]},{frame:[1551,0,497,208],offset:[4,-4],rotated:!1,sourceRect:[10,35,497,208],sourceSize:[509,270]},{frame:[983,873,477,210],offset:[14,-4],rotated:!1,sourceRect:[30,34,477,210],sourceSize:[509,270]},{frame:[499,855,483,212],offset:[11,-4],rotated:!1,sourceRect:[24,33,483,212],sourceSize:[509,270]},{frame:[1551,416,495,212],offset:[5,-4],rotated:!1,sourceRect:[12,33,495,212],sourceSize:[509,270]},{frame:[0,444,503,208],offset:[1,-4],rotated:!1,sourceRect:[4,35,503,208],sourceSize:[509,270]},{frame:[1006,666,495,206],offset:[5,-3],rotated:!1,sourceRect:[12,35,495,206],sourceSize:[509,270]},{frame:[1551,209,497,206],offset:[4,-3],rotated:!1,sourceRect:[10,35,497,206],sourceSize:[509,270]},{frame:[0,883,483,192],offset:[9,-16],rotated:!1,sourceRect:[22,55,483,192],sourceSize:[509,270]},{frame:[933,1084,423,264],offset:[38,3],rotated:!1,sourceRect:[81,0,423,264],sourceSize:[509,270]},{frame:[1502,853,481,216],offset:[14,-16],rotated:!1,sourceRect:[28,43,481,216],sourceSize:[509,270]},{frame:[1461,1070,429,258],offset:[34,-1],rotated:!1,sourceRect:[74,7,429,258],sourceSize:[509,270]}],t={maxNumGroup:1,minSpeed:.5,maxSpeed:.6,regX:350,regY:130,useFrames:!0,interval:10},this.translateImage(this.shark,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[1034,222,516,219],offset:[0,-1],rotated:!1,sourceRect:[0,28,516,219],sourceSize:[516,273]},{frame:[1034,0,516,221],offset:[0,-2],rotated:!1,sourceRect:[0,28,516,221],sourceSize:[516,273]},{frame:[1525,629,498,223],offset:[9,-2],rotated:!1,sourceRect:[18,27,498,223],sourceSize:[516,273]},{frame:[1022,442,502,223],offset:[7,-3],rotated:!1,sourceRect:[14,28,502,223],sourceSize:[516,273]},{frame:[0,0,516,223],offset:[0,-3],rotated:!1,sourceRect:[0,28,516,223],sourceSize:[516,273]},{frame:[517,0,516,221],offset:[0,-2],rotated:!1,sourceRect:[0,28,516,221],sourceSize:[516,273]},{frame:[0,224,516,219],offset:[0,-1],rotated:!1,sourceRect:[0,28,516,219],sourceSize:[516,273]},{frame:[517,222,516,219],offset:[0,-1],rotated:!1,sourceRect:[0,28,516,219],sourceSize:[516,273]},{frame:[517,442,504,205],offset:[3,-14],rotated:!1,sourceRect:[9,48,504,205],sourceSize:[516,273]},{frame:[0,1076,444,269],offset:[32,2],rotated:!1,sourceRect:[68,0,444,269],sourceSize:[516,273]},{frame:[0,653,498,229],offset:[9,-14],rotated:!1,sourceRect:[18,36,498,229],sourceSize:[516,273]},{frame:[484,1068,448,269],offset:[29,0],rotated:!1,sourceRect:[63,2,448,269],sourceSize:[516,273]}],t={maxNumGroup:1,minSpeed:.5,maxSpeed:.6,regX:350,regY:130,useFrames:!0,interval:10},this.translateImage(this.shark,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[122,949,60,74],offset:[0,0],rotated:!1,sourceRect:[7,0,60,74],sourceSize:[74,74]},{frame:[61,915,60,74],offset:[0,0],rotated:!1,sourceRect:[7,0,60,74],sourceSize:[74,74]},{frame:[244,1096,60,72],offset:[0,-1],rotated:!1,sourceRect:[7,2,60,72],sourceSize:[74,74]},{frame:[0,915,60,74],offset:[0,0],rotated:!1,sourceRect:[7,0,60,74],sourceSize:[74,74]},{frame:[122,949,60,74],offset:[0,0],rotated:!1,sourceRect:[7,0,60,74],sourceSize:[74,74]}],this.translateImage(this.cannon,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[917,1156,60,76],offset:[0,0],rotated:!1,sourceRect:[7,0,60,76],sourceSize:[74,76]},{frame:[490,1237,60,76],offset:[0,0],rotated:!1,sourceRect:[7,0,60,76],sourceSize:[74,76]},{frame:[551,1283,60,74],offset:[0,-1],rotated:!1,sourceRect:[7,2,60,74],sourceSize:[74,76]},{frame:[565,1206,60,76],offset:[0,0],rotated:!1,sourceRect:[7,0,60,76],sourceSize:[74,76]},{frame:[917,1156,60,76],offset:[0,0],rotated:!1,sourceRect:[7,0,60,76],sourceSize:[74,76]}],this.translateImage(this.cannon,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[584,1129,62,76],offset:[-1,0],rotated:!1,sourceRect:[5,0,62,76],sourceSize:[74,76]},{frame:[653,1127,62,76],offset:[-1,0],rotated:!1,sourceRect:[5,0,62,76],sourceSize:[74,76]},{frame:[716,1140,62,72],offset:[-1,-2],rotated:!1,sourceRect:[5,4,62,72],sourceSize:[74,76]},{frame:[726,1063,62,76],offset:[-1,0],rotated:!1,sourceRect:[5,0,62,76],sourceSize:[74,76]},{frame:[584,1129,62,76],offset:[-1,0],rotated:!1,sourceRect:[5,0,62,76],sourceSize:[74,76]}],this.translateImage(this.cannon,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[299,1012,64,83],offset:[-1,0],rotated:!1,sourceRect:[4,0,64,83],sourceSize:[74,83]},{frame:[372,1010,64,83],offset:[-1,0],rotated:!1,sourceRect:[4,0,64,83],sourceSize:[74,83]},{frame:[588,1049,64,79],offset:[-1,-2],rotated:!1,sourceRect:[4,4,64,79],sourceSize:[74,83]},{frame:[372,1010,64,83],offset:[-1,0],rotated:!1,sourceRect:[4,0,64,83],sourceSize:[74,83]},{frame:[299,1012,64,83],offset:[-1,0],rotated:!1,sourceRect:[4,0,64,83],sourceSize:[74,83]}],this.translateImage(this.cannon,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[521,1e3,66,85],offset:[-1,0],rotated:!1,sourceRect:[3,0,66,85],sourceSize:[74,85]},{frame:[594,963,66,85],offset:[-1,0],rotated:!1,sourceRect:[3,0,66,85],sourceSize:[74,85]},{frame:[452,1007,66,79],offset:[-1,-3],rotated:!1,sourceRect:[3,6,66,79],sourceSize:[74,85]},{frame:[669,879,66,85],offset:[-1,0],rotated:!1,sourceRect:[3,0,66,85],sourceSize:[74,85]},{frame:[521,1e3,66,85],offset:[-1,0],rotated:!1,sourceRect:[3,0,66,85],sourceSize:[74,85]}],this.translateImage(this.cannon,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[232,839,70,90],offset:[-1,0],rotated:!1,sourceRect:[1,0,70,90],sourceSize:[74,90]},{frame:[312,835,70,90],offset:[-1,0],rotated:!1,sourceRect:[1,0,70,90],sourceSize:[74,90]},{frame:[529,835,70,82],offset:[-1,-4],rotated:!1,sourceRect:[1,8,70,82],sourceSize:[74,90]},{frame:[385,833,70,90],offset:[-1,0],rotated:!1,sourceRect:[1,0,70,90],sourceSize:[74,90]},{frame:[232,839,70,90],offset:[-1,0],rotated:!1,sourceRect:[1,0,70,90],sourceSize:[74,90]}],this.translateImage(this.cannon,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[947,986,72,94],offset:[0,0],rotated:!1,sourceRect:[1,0,72,94],sourceSize:[74,94]},{frame:[947,891,72,94],offset:[0,0],rotated:!1,sourceRect:[1,0,72,94],sourceSize:[74,94]},{frame:[312,748,72,86],offset:[0,-4],rotated:!1,sourceRect:[1,8,72,86],sourceSize:[74,94]},{frame:[757,806,72,94],offset:[0,0],rotated:!1,sourceRect:[1,0,72,94],sourceSize:[74,94]},{frame:[947,986,72,94],offset:[0,0],rotated:!1,sourceRect:[1,0,72,94],sourceSize:[74,94]}],this.translateImage(this.cannon,e,e[0].sourceSize[0],e[0].sourceSize[1],!0,t),e=[{frame:[437,490,24,26],offset:[0,0],rotated:!1,sourceRect:[0,0,24,26],sourceSize:[24,26]},{frame:[436,577,25,29],offset:[0,0],rotated:!1,sourceRect:[0,0,25,29],sourceSize:[25,29]},{frame:[619,587,27,31],offset:[0,0],rotated:!1,sourceRect:[0,0,27,31],sourceSize:[27,31]},{frame:[406,574,29,33],offset:[0,0],rotated:!1,sourceRect:[0,0,29,33],sourceSize:[29,33]},{frame:[406,471,30,34],offset:[0,0],rotated:!1,sourceRect:[0,0,30,34],sourceSize:[30,34]},{frame:[190,317,31,35],offset:[0,0],rotated:!1,sourceRect:[0,0,31,35],sourceSize:[31,35]},{frame:[654,395,32,38],offset:[0,0],rotated:!1,sourceRect:[0,0,32,38],sourceSize:[32,38]},{frame:[190,353,30,44],offset:[0,0],rotated:!1,sourceRect:[0,0,30,44],sourceSize:[30,44]}],0);r<e.length;r++)t={regX:(s=e[r]).sourceSize[0]>>1,regY:s.sourceSize[1]>>1},this.translateImage(this.getImage("cannon"),[s],s.sourceSize[0],s.sourceSize[1],!0,t);for(e=[{frame:[830,891,116,118],offset:[0,0],rotated:!1,sourceRect:[0,0,116,118],sourceSize:[116,118]},{frame:[619,736,137,142],offset:[0,0],rotated:!1,sourceRect:[0,0,137,142],sourceSize:[137,142]},{frame:[462,587,156,162],offset:[0,0],rotated:!1,sourceRect:[0,0,156,162],sourceSize:[156,162]},{frame:[0,425,180,174],offset:[0,0],rotated:!1,sourceRect:[0,0,180,174],sourceSize:[180,174]},{frame:[242,436,163,155],offset:[0,0],rotated:!1,sourceRect:[0,0,163,155],sourceSize:[163,155]},{frame:[462,223,191,181],offset:[0,0],rotated:!1,sourceRect:[0,0,191,181],sourceSize:[191,181]},{frame:[0,0,242,244],offset:[0,0],rotated:!1,sourceRect:[0,0,242,244],sourceSize:[242,244]},{frame:[701,0,226,220],offset:[2,-1],rotated:!1,sourceRect:[14,16,226,220],sourceSize:[250,250]}],r=0;r<e.length;r++){var s;t={regX:(s=e[r]).sourceSize[0]>>1,regY:s.sourceSize[1]>>1},this.translateImage(this.getImage("cannon"),[s],s.sourceSize[0],s.sourceSize[1],!0,t)}},r.translateImage=function(e,t,r,s,i,o){var a=this.cacheImage(e,t,r,s,i);return Q.merge(a,o),a},r.cacheImage=function(e,t,r,s,i,o){var a=Q.createDOM("canvas"),c=a.getContext("2d");a.width=r,a.height=s*t.length;for(var n=0,u=[],f=0;f<t.length;f++){var h=t[f],m=h.frame,d=(h.offset,h.rotated),g=h.sourceRect||[0,0];if(c.save(),n=f*s,d){var p=m[3];m[3]=m[2],m[2]=p}var l=0+g[0],S=d?n+m[2]+g[1]:n+g[1];c.translate(l,S),d&&c.rotate(-90*Math.PI/180),c.drawImage(e,m[0],m[1],m[2],m[3],0,0,m[2],m[3]),c.restore();var z={rect:[0,n,r,s]};u[f]=z}if(trace(JSON.stringify(u)),i){var R=new Image;return R.src=a.toDataURL("image/png"),R.width=a.width,R.height=a.height,document.body.appendChild(R),{image:R,frames:u}}return{image:a,frames:u}},r.getImage=function(e){return this.images[e].image}},function(e,t){(Q.use("fish").Utils={}).calcDirection=function(e,t){var r;if(e.x==t.x)r=(t.y>e.y?Math.PI/2:-Math.PI/2)*Q.RAD_TO_DEG;else{var s=(t.y-e.y)/(t.x-e.x);t.y,t.x,r=Math.atan(1/s)*Q.RAD_TO_DEG,t.y<e.y?t.x<e.x&&(r+=180):r=90-r}return{degree:r,sin:Math.sin(r*Q.DEG_TO_RAD),cos:Math.cos(r*Q.DEG_TO_RAD)}}},function(e,t){var r,s,i;r=Q.use("fish"),s=r.game,i=r.Bullet=function(e){this.power=0,this.speedX=0,this.speedY=0,i.superClass.constructor.call(this,e),this.id=Q.UIDUtil.createUID("Bullet")},Q.inherit(i,Q.Bitmap),i.prototype.update=function(e){this.isOutOfScreen()?this.destory():(this.x+=this.speedX,this.y-=this.speedY,this.checkCollision()&&this.destory())},i.prototype.checkCollision=function(){for(var e=s.fishManager.fishes,t=e.length,i=!1,o=0;o<t;o++){var a=e[o];if(!(this.y-.5*this.height>a.y+.5*a.height||this.y+.5*this.height<a.y-.5*a.height||this.x-.5*this.width>a.x+.5*a.width||this.x+.5*this.width<a.x-.5*a.width)&&this.hitTestObject(a,!0)){i=!0;break}}if(!1===i)return!1;var c=new Q.Bitmap(r.R.webs[this.power-1]);for(c.x=this.x,c.y=this.y,c.scaleX=c.scaleY=.8,c.eventEnabled=!1,this.parent.addChild(c),Q.Tween.to(c,{scaleX:1,scaleY:1},{time:100,reverse:!0,onComplete:function(e){e.reversing&&c.parent&&c.parent.removeChild(c),e.reversing=!0}}),o=0;o<t;o++)a=e[o],c.y-.5*c.height>a.y+.5*a.height||c.y+.5*c.height<a.y-.5*a.height||c.x-.5*c.width>a.x+.5*a.width||c.x+.5*c.width<a.x-.5*a.width||c.hitTestObject(a,!0)&&a.canBeCaptured(this.power-1)&&(a.moving=!1,a.captured=!0,a.capturingCounter=s.fps>>1,a.gotoAndPlay("capture"));return!0},i.prototype.destory=function(){this.parent.removeChild(this)},i.prototype.isOutOfScreen=function(){return this.x<-50||this.x>s.width+50||this.y<-50||this.y>s.height+50}},function(e,t){var r,s;r=Q.use("fish"),s=r.Cannon=function(e){this.power=0,s.superClass.constructor.call(this,e),this.stop()},Q.inherit(s,Q.MovieClip),s.prototype.setPower=function(e,t){t&&(e+=this.power),e=e>7?1:e<1?7:e,this.power!=e&&(this.power=e,this.setType(r.R.cannonTypes[e]))},s.prototype.setType=function(e){Q.merge(this,e,!0),Q.merge(this,e.mixin,!1),this.setDrawable(e.image),this._frames.length=0,this.addFrame(e.frames),this.gotoAndStop(0)},s.prototype.fire=function(e){this.rotation=e,this.gotoAndPlay(0)}},function(e,t){var r,s,i;r=Q.use("fish"),s=r.game,i=r.Fish=function(e){this.type=e,this.speed=.5,this.moving=!0,this.canTurning=!1,this.hasShown=!1,this.captured=!1,i.superClass.constructor.call(this,e),this.id=Q.UIDUtil.createUID("Fish")},Q.inherit(i,Q.MovieClip),i.prototype.init=function(e){this.changeDirection(this.rotation)},i.prototype.setType=function(e){Q.merge(this,e,!0),Q.merge(this,e.mixin,!1),this.setDrawable(e.image),this._frames.length=0,this.addFrame(e.frames),this.gotoAndPlay(0)},i.prototype.changeDirection=function(e){if(null!=e)this.setDirection(e);else if(Math.random()>.8){e=Math.random()>.5?1:-1;var t=10*Math.random()+20>>0;this._destRotation=this.rotation+t*e>>0}var r=s.fps,i=5*r,o=10*r;this.changeDirCounter=Math.random()*(o-i+1)+i>>1},i.prototype.setDirection=function(e){if(this.rotation!=e||null==this.speedX){if(null==e.degree){var t=e*Q.DEG_TO_RAD;e={degree:e,sin:Math.sin(t),cos:Math.cos(t)}}this.rotation=e.degree%360,this.speedX=this.speed*e.cos,this.speedY=this.speed*e.sin}},i.prototype.canBeCaptured=function(e){return this.captureRate*(1+.05*e)>Math.random()},i.prototype.update=function(){if(this.captured){if(--this.capturingCounter<=0){var e=this.coin>=10?r.R.coinAni2:r.R.coinAni1,t=new Q.MovieClip(e);t.x=this.x,t.y=this.y,this.parent.addChild(t);var i="+"+this.coin.toString(),o=new r.Num({id:"coinCount",src:r.R.coinText,max:i.length,gap:3,scaleX:.8,scaleY:.8});o.x=this.x,o.y=this.y,o.setValue(i),this.parent.addChild(o),Q.Tween.to(o,{y:o.y-50},{time:800,onComplete:function(e){e.target.parent.removeChild(e.target)}});var a=s.bottom.x+100,c=s.height;Q.Tween.to(t,{x:a,y:c},{time:800,onComplete:function(e){e.target.parent.removeChild(e.target)}}),this.parent.removeChild(this),s.player.captureFish(this),s.fishManager.fishPool.push(this)}}else if(this.moving&&(this.x+=this.speedX,this.y+=this.speedY),null!=this._destRotation){var n=this._destRotation-this.rotation,u=n>0?.1:-.1,f=this.rotation+u;0==n||u>0&&f>=this._destRotation||u<0&&f<=this._destRotation?(this.setDirection(this._destRotation),this._destRotation=null):this.setDirection(f)}else--this.changeDirCounter<=0&&this.canTurning&&this.changeDirection()},i.prototype.isOutOfScreen=function(){return this.x<-this.width||this.x>s.width+this.width||this.y<-this.height||this.y>s.height+this.height||(this.x>100&&this.x<s.width-100&&this.y>100&&this.y<s.height-100&&(this.canTurning=!0),!1)}},function(e,t){var r;r=Q.use("fish").Num=function(e){this.max=1,this.gap=2,this.addSign=!1,this.autoAddZero=!1,this.src=null,e=e||{},r.superClass.constructor.call(this,e),this.id=e.id||Q.UIDUtil.createUID("Num"),this.eventEnabled=this.eventChildren=!1,this.autoSize=!0,this.init()},Q.inherit(r,Q.DisplayObjectContainer),r.prototype.init=function(){for(var e=this.addSign?this.max+1:this.max,t=0;t<e;t++){var r=this.src[0],s=new Q.Bitmap({image:this.src.image,rect:r,x:(r[2]+this.gap)*t});this.addChild(s)}},r.prototype.setValue=function(e){var t=e.toString(),r=this.children.length,s=e>0;if(this.autoAddZero)for(var i=this.addSign?r-1:r;t.length<i;)t="0"+t;this.addSign&&s&&(t="+"+t);for(var o=r-1,a=t.length-1;o>=0;o--){var c=this.getChildAt(o),n=a>=0;c.visible=n,n&&c.setRect(this.src[t.charAt(a)]),a--}}},function(e,t){var r,s,i;r=Q.use("fish"),s=r.game,(i=r.Player=function(e){this.id=null,this.coin=0,this.numCapturedFishes=0,this.cannon=null,this.cannonMinus=null,this.cannonPlus=null,this.coinNum=null,e=e||{},Q.merge(this,e,!0),this.init()}).prototype.init=function(){var e=this;this.cannon=new r.Cannon(r.R.cannonTypes[1]),this.cannon.id="cannon",this.cannon.x=s.bottom.x+425,this.cannon.y=s.bottom.y+60,this.cannon.y=s.height-10,this.cannonMinus=new Q.Button(r.R.cannonMinus),this.cannonMinus.id="cannonMinus",this.cannonMinus.x=s.bottom.x+340,this.cannonMinus.y=s.bottom.y+36,this.cannonMinus.onEvent=function(t){t.type==s.events[1]&&e.cannon.setPower(-1,!0)},this.cannonPlus=new Q.Button(r.R.cannonPlus),this.cannonPlus.id="cannonPlus",this.cannonPlus.x=this.cannonMinus.x+140,this.cannonPlus.y=this.cannonMinus.y,this.cannonPlus.onEvent=function(t){t.type==s.events[1]&&e.cannon.setPower(1,!0)},this.coinNum=new r.Num({id:"coinNum",src:r.R.numBlack,max:6,gap:3,autoAddZero:!0}),this.coinNum.x=s.bottom.x+20,this.coinNum.y=s.bottom.y+44,this.updateCoin(this.coin),s.stage.addChild(this.cannon,this.cannonMinus,this.cannonPlus,this.coinNum)},i.prototype.fire=function(e){var t=this.cannon,i=t.power;if(this.coin<i)window.Inject.coin(this.coin,i);else{var o=r.Utils.calcDirection(t,e).degree;-90==o?o=0:o<0&&o>-90?o=-o:o>=180&&o<=270&&(o=180-o),t.fire(o);var a=Math.sin(o*Q.DEG_TO_RAD),c=Math.cos(o*Q.DEG_TO_RAD),n=new r.Bullet(r.R.bullets[i-1]);n.x=t.x+(t.regY+20)*a,n.y=t.y-(t.regY+20)*c,n.rotation=o,n.power=i,n.speedX=5*a,n.speedY=5*c,s.stage.addChild(n),this.updateCoin(-i,!0)}},i.prototype.captureFish=function(e){this.updateCoin(e.coin,!0),this.numCapturedFishes++,window.Inject.captureFish(e.coin)},i.prototype.updateCoin=function(e,t){t?this.coin+=e:this.coin=e,this.coin>999999&&(this.coin=999999),window.Inject.coin(this.coin),this.coinNum.setValue(this.coin)}}]);